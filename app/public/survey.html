<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>FriendFinder</title>
    <!--Bootstrap links-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
    </script>
    <!--JQuery Link-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>

<body>

    <div class="row">
        <div class="col-md-1">
        </div>
        <div class="col-md-10">
            <h1 class="font-weight-bold">Friend Finder Survey</h1>
            <hr class="my-4">
            <form>
                <div class="form-group">
                    <h3 class="font-weight-bold">About You</h3>
                    <label for="exampleInputEmail1" class="font-weight-bold">Name (Required)</label>
                    <input type="name" class="form-control" id="name" aria-describedby="name" placeholder="Name">

                </div>
                <div class="form-group">
                    <label for="exampleInputPassword1" class="font-weight-bold">Link to Photo Image (Required)</label>
                    <input type="link" class="form-control" id="image" placeholder="Image Link">
                </div>
                <hr class="my-4">
                <div class="form-group">
                    <h3 class="font-weight-bold">Question 1</h3>
                    <label for="question1" class="font-weight-bold">I enjoy Outdoor Activities</label>
                    <div class="row">
                        <div class="col-md-3">
                            <select class="form-control" id="question1">
                                <option value="">Select an Option</option>
                                <option value="1">1 (Strongly disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly agree)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <h3 class="font-weight-bold">Question 2</h3>
                    <label for="question2" class="font-weight-bold">I like to Travel</label>
                    <div class="row">
                        <div class="col-md-3">
                            <select class="form-control" id="question2">
                                <option value="">Select an Option</option>
                                <option value="1">1 (Strongly disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly agree)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <h3 class="font-weight-bold">Question 3</h3>
                    <label for="question3" class="font-weight-bold">I'm always seeking an Adventure</label>
                    <div class="row">
                        <div class="col-md-3">
                            <select class="form-control" id="question3">
                                <option value="">Select an Option</option>
                                <option value="1">1 (Strongly disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly agree)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <h3 class="font-weight-bold">Question 4</h3>
                    <label for="question4" class="font-weight-bold">I enjoy watching Sports</label>
                    <div class="row">
                        <div class="col-md-3">
                            <select class="form-control" id="question4">
                                <option value="">Select an Option</option>
                                <option value="1">1 (Strongly disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly agree)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <h3 class="font-weight-bold">Question 5</h3>
                    <label for="question5" class="font-weight-bold">I enjoy playing Sports</label>
                    <div class="row">
                        <div class="col-md-3">
                            <select class="form-control" id="question5">
                                <option value="">Select an Option</option>
                                <option value="1">1 (Strongly disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly agree)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <h3 class="font-weight-bold">Question 6</h3>
                    <label for="question6" class="font-weight-bold">I consider myself extroverted</label>
                    <div class="row">
                        <div class="col-md-3">
                            <select class="form-control" id="question6">
                                <option value="">Select an Option</option>
                                <option value="1">1 (Strongly disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly agree)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <h3 class="font-weight-bold">Question 7</h3>
                    <label for="question7" class="font-weight-bold">I consider myself Introverted</label>
                    <div class="row">
                        <div class="col-md-3">
                            <select class="form-control" id="question7">
                                <option value="">Select an Option</option>
                                <option value="1">1 (Strongly disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly agree)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <h3 class="font-weight-bold">Question 8</h3>
                    <label for="question8" class="font-weight-bold">On the weekends, you can find me at a bar or
                        brewery</label>
                    <div class="row">
                        <div class="col-md-3">
                            <select class="form-control" id="question8">
                                <option value="">Select an Option</option>
                                <option value="1">1 (Strongly disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly agree)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <h3 class="font-weight-bold">Question 9</h3>
                    <label for="question9" class="font-weight-bold">On the weekends, you can find me relaxing and
                        watching a movie</label>
                    <div class="row">
                        <div class="col-md-3">
                            <select class="form-control" id="question9">
                                <option value="">Select an Option</option>
                                <option value="1">1 (Strongly disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly agree)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <h3 class="font-weight-bold">Question 10</h3>
                    <label for="question10" class="font-weight-bold">I like to cook</label>
                    <div class="row">
                        <div class="col-md-3">
                            <select class="form-control" id="question10">
                                <option value="">Select an Option</option>
                                <option value="1">1 (Strongly disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly agree)</option>
                            </select>
                        </div>
                    </div>
                </div>
            </form>
            <button type="submit" id="submit-button" data-toggle="modal" data-target="#matchModal" class="btn btn-primary btn-lg btn-block">Submit Survey</button>
            <hr class="my-4">
            <a href="../data/friends.js">API Friends List |</a>

            <a href="https://github.com/noetinger/FriendFinder"> Github Repo</a>
        </div>
        <div class="col-md-1">
        </div>
        <div class="modal" id="matchModal" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Your New Friend!</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
					<div class="modal-body">
						<h2 id="bestFriend"></h2>
						<img id="bestFriendImage" src="#">
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--JavaScript-->
    <script type="text/javascript">
        //When the submit button is clicked...
        $("#submit-button").on("click", function (event) {
            event.preventDefault();
            //Create a new variable
            let newFriend = {
                name: $("#name").val().trim(),
                image: $("#image").val().trim(),
                scores: [
                    $('#question1').val(),
                    $('#question2').val(),
                    $('#question3').val(),
                    $('#question4').val(),
                    $('#question5').val(),
                    $('#question6').val(),
                    $('#question7').val(),
                    $('#question8').val(),
                    $('#question9').val(),
                    $('#question10').val(),
                ]
            }
            console.log(newFriend)

            var currentURL = window.location.origin;

            //Send newFriend to backend
            $.post(currentURL + "/api/friends", newFriend,
                function (data) {
                    console.log("Post newFriend Function Activated!")
                    //If data is complete - alert
                    if (data) {
                        //alert("You have a match!")
                        //Display Best Match
                        $("#bestFriend").text(data.name);
                        $("#bestFriendImage").attr("src", data.image);
                        console.log(data.image)
                        console.log("Modal should have activated...")

                        //Clear form
                        console.log("Form should be cleared...")
                        $("#name").val("");
                        $("#image").val("");
                        $('#question1').val("");
                        $('#question2').val("");
                        $('#question3').val("");
                        $('#question4').val("");
                        $('#question5').val("");
                        $('#question6').val("");
                        $('#question7').val("");
                        $('#question8').val("");
                        $('#question9').val("");
                        $('#question10').val("");

                    }
                    //If data is incomplete - alert
                    else {
                        alert("You did not fill out the form correctly...")
                    }
                });
        });
    </script>
</body>

</html>